(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},5731:(e,t,a)=>{"use strict";a.d(t,{F:()=>c});let s="http://localhost:8000";!s||s.startsWith("http://")||s.startsWith("https://")||(s="https://".concat(s)),console.log("API_URL:",s),console.log("NEXT_PUBLIC_API_URL:","http://localhost:8000");let r=()=>{let e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:{}},n=async e=>{if(!e.ok){let t=await e.json().catch(()=>({}));throw Error(t.detail||t.message||"An error occurred")}return e.json()},c={register:async e=>n(await fetch("".concat(s,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),login:async e=>n(await fetch("".concat(s,"/token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e.email,password:e.password})})),getCurrentUser:async()=>n(await fetch("".concat(s,"/users/me"),{headers:r()})),getLaundryTypes:async()=>n(await fetch("".concat(s,"/laundry-types"),{headers:r()})),async getTimeSlots(e){let t=e?"".concat(s,"/time-slots?date=").concat(encodeURIComponent(e)):"".concat(s,"/time-slots");return n(await fetch(t,{headers:r()}))},createPickupRequest:async e=>n(await fetch("".concat(s,"/pickup-requests"),{method:"POST",headers:{"Content-Type":"application/json",...r()},body:JSON.stringify(e)})),getPickupRequests:async()=>n(await fetch("".concat(s,"/pickup-requests"),{headers:r()})),getPickupRequest:async e=>n(await fetch("".concat(s,"/pickup-requests/").concat(e),{headers:r()})),getPaymentMethods:async()=>n(await fetch("".concat(s,"/payment-methods"),{headers:r()})),createPayment:async e=>n(await fetch("".concat(s,"/payments"),{method:"POST",headers:{"Content-Type":"application/json",...r()},body:JSON.stringify(e)})),getPayment:async e=>n(await fetch("".concat(s,"/payments/").concat(e),{headers:r()})),getInvoices:async()=>n(await fetch("".concat(s,"/invoices"),{headers:r()})),getInvoiceByPaymentId:async e=>n(await fetch("".concat(s,"/invoices/payment/").concat(e),{headers:r()})),getInvoice:async e=>n(await fetch("".concat(s,"/invoices/").concat(e),{headers:r()}))}},6616:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),r=a(2115),n=a(5695),c=a(6874),o=a.n(c),i=a(5731);function l(){let e=(0,n.useRouter)(),[t,a]=(0,r.useState)({email:"",password:"",full_name:"",phone_number:"",is_admin:!1}),[c,l]=(0,r.useState)(""),d=async a=>{a.preventDefault();try{await i.F.register(t),e.push("/login")}catch(e){l(e.message||"Registration failed. Please try again.")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,s.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,s.jsxs)("form",{className:"space-y-6",onSubmit:d,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,s.jsx)("input",{id:"email",type:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:t.email,onChange:e=>a({...t,email:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,s.jsx)("input",{id:"full_name",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:t.full_name,onChange:e=>a({...t,full_name:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,s.jsx)("input",{id:"phone_number",type:"tel",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:t.phone_number,onChange:e=>a({...t,phone_number:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",value:t.password,onChange:e=>a({...t,password:e.target.value})})]}),c&&(0,s.jsx)("div",{className:"text-red-600 text-sm",children:c}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Register"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsxs)("span",{className:"px-2 bg-white text-gray-500",children:["Already have an account? ",(0,s.jsx)(o(),{href:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Login"})]})})})})]})})]})}},6773:(e,t,a)=>{Promise.resolve().then(a.bind(a,6616))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(6773)),_N_E=e.O()}]);